{% extends 'front.html.twig' %}

{# {% block title %}SymRecipe - Modification de l'utilisateur
{% endblock %} #}
{# {% block stylesheets %}
	<style>
		body {
			margin-top: 20px;
			background-color: #f2f6fc;
			color: #69707a;
		}
		.img-account-profile {
			height: 10rem;
		}
		.rounded-circle {
			border-radius: 50% !important;
		}
		.card {
			box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50 / 15%);
		}
		.card .card-header {
			font-weight: 500;
		}
		.card-header:first-child {
			border-radius: 0.35rem 0.35rem 0 0;
		}
		.card-header {
			padding: 1rem 1.35rem;
			margin-bottom: 0;
			background-color: rgba(33, 40, 50, 0.03);
			border-bottom: 1px solid rgba(33, 40, 50, 0.125);
		}
		.form-control,
		.dataTable-input {
			display: block;
			width: 100%;
			padding: 0.875rem 1.125rem;
			font-size: 0.875rem;
			font-weight: 400;
			line-height: 1;
			color: #69707a;
			background-color: #fff;
			background-clip: padding-box;
			border: 1px solid #c5ccd6;
			-webkit-appearance: none;
			-moz-appearance: none;
			appearance: none;
			border-radius: 0.35rem;
			transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
		}

		.nav-borders .nav-link.active {
			color: #0061f2;
			border-bottom-color: #0061f2;
		}
		.nav-borders .nav-link {
			color: #69707a;
			border-bottom-width: 0.125rem;
			border-bottom-style: solid;
			border-bottom-color: transparent;
			padding: 0.5rem 0;
			margin-left: 1rem;
			margin-right: 1rem;
		}
	</style>
{% endblock %}
 #}
	{% block body %}
    <script>
function handleConfirmation(event, message, title, successNotification) {
  var confirmResult = confirm(message);
  

  
  if (!confirmResult) {
    event.preventDefault();
    return;
  }

  if (!("Notification" in window)) {
    console.log('Notifications are not supported in this browser');
    return;
  }

  Notification.requestPermission().then(function(permission) {
    if (permission === "granted") {
      var notification = new Notification(title, {
        body: successNotification,
        icon: "path/to/notification-icon.png"
      });
    } else {
      console.log('Notification permission denied');
    }
  });
}


</script>
		<div class="container-xxl px-4 mt-4"> <div
			class="col-xl-8">
			<!-- Account details card-->
			<div class="card mb-4" style="width: 148vh;">
				<div class="card-header">Account Details</div>
				<div class="card-body">
					<form action="{{ path('app_modifier') }}" method="POST">
						{{ form_start(ModifierType, {'attr': {'class': 'form'}}) }}

						<div class="form-group mb-3">
							<label class="form-label" for="emailU">Email:</label>
							{{ form_widget(ModifierType.emailU, {'attr': {'class': 'form-control'}}) }}
							{{ form_errors(ModifierType.emailU) }}
						</div>
						<!-- Form Row-->
						<div
							class="row gx-3 mb-3">
							<!-- Form Group (first name)-->
							<div class="form-group col-md-6 mb-3">
								<label class="form-label" for="NomU">Nom:</label>
								{{ form_widget(ModifierType.NomU, {'attr': {'class': 'form-control'}}) }}
								{{ form_errors(ModifierType.NomU) }}
							</div>
							<!-- Form Group (last name)-->
							<div class="form-group col-md-6 mb-3">
								<label class="form-label" for="prenomU">Prenom:</label>
								{{ form_widget(ModifierType.prenomU, {'attr': {'class': 'form-control'}}) }}
								{{ form_errors(ModifierType.prenomU) }}
							</div>
						</div>
						<!-- Form Row -->
						<div
							class="row gx-3 mb-3">
							<!-- Form Group (organization name)-->
							<div class="form-group col-md-6 mb-3">
								<label class="form-label" for="sexeU">Sexe:</label>
								{{ form_widget(ModifierType.sexeU, {'attr': {'class': 'form-control'}}) }}
								{{ form_errors(ModifierType.sexeU) }}
							</div>
							<!-- Form Group (location)-->
							<div class="form-group col-md-6 mb-3">
								<label class="form-label" for="DateNaissanceU">Date de Naissance:</label>
								{{ form_widget(ModifierType.DateNaissanceU, {'attr': {'class': 'form-control'}}) }}
								{{ form_errors(ModifierType.DateNaissanceU) }}
							</div>
						</div>
						 <div class="form-group">
                                
                            <button type="submit"  class=" form-control margin-bottom: 10px" id="notificationButton">modifier</button>
                            <hr></hr>
                    </div>
						<div class="form-group mb-3"></div>
						{{ form_end(ModifierType) }}
						<a href="{{ path('user.delete', {'id': app.user.idU}) }}" onclick="return confirm('Are you sure you want to delete this user?')" class="btn btn-danger">Delete</a>
						<a href="{{ path('user.edit.password', {'id': app.user.idU}) }}" class="btn btn-info">Change Password</a>
					</form>
				</div>
			</div>
		</div>
	</div>
	<script>
    // Usage example for the "modifier" button
var modifierButton = document.getElementById('notificationButton');
modifierButton.addEventListener('click', function(event) {
  handleConfirmation(event, 'Are you sure you want to modify this user?', 'Modification Confirmation', 'You have successfully modified your account');
});

// Usage example for the "supprimer" button
var supprimerButton = document.getElementById('notificationButton1');
supprimerButton.addEventListener('click', function(event) {
  handleConfirmation(event, 'Are you sure you want to delete this user?', 'Deletion Confirmation', 'You have successfully deleted your account');
});
    </script>
{% endblock %}